/*!
 * Minimal jQuery subset for offline use.
 */
(function(global){
    const events=new WeakMap();
    function createWrapper(elements){
        return {
            elements,
            each(cb){elements.forEach((el,i)=>cb.call(el,i,el));return this;},
            on(ev,fn){const [n]=ev.split('.');this.each(el=>{el.addEventListener(n,fn);const m=events.get(el)||{};m[n]=(m[n]||new Set()).add(fn);events.set(el,m);});return this;},
            off(ev,fn){const [n]=ev.split('.');this.each(el=>{const m=events.get(el)||{};const hs=m[n];if(hs){if(fn){el.removeEventListener(n,fn);hs.delete(fn);}else{hs.forEach(h=>el.removeEventListener(n,h));hs.clear();}}});return this;},
            addClass(c){return this.each(el=>el.classList.add(c));},
            removeClass(c){return this.each(el=>el.classList.remove(c));},
            hasClass(c){return elements[0]?.classList.contains(c);},
            css(p,v){if(v===undefined){return getComputedStyle(elements[0])[p];}return this.each(el=>el.style[p]=v);},
            prop(n,v){if(v===undefined){return elements[0]?.[n];}return this.each(el=>el[n]=v);},
            attr(n,v){if(v===undefined){return elements[0]?.getAttribute(n);}return this.each(el=>el.setAttribute(n,v));},
            val(v){if(v===undefined){return elements[0]?.value;}return this.each(el=>el.value=v);},
            text(v){if(v===undefined){return elements[0]?.textContent;}return this.each(el=>el.textContent=v);},
            html(v){if(v===undefined){return elements[0]?.innerHTML;}return this.each(el=>el.innerHTML=v);},
            append(c){return this.each(el=>{if(typeof c==='string'){el.insertAdjacentHTML('beforeend',c);}else{el.appendChild(c);}});},
            empty(){return this.each(el=>el.innerHTML='');},
            hide(){return this.each(el=>el.style.display='none');},
            show(){return this.each(el=>el.style.display='');},
            ready(fn){if(document.readyState!=='loading'){fn();}else{document.addEventListener('DOMContentLoaded',fn);}return this;}
        };
    }
    function $(sel){if(typeof sel==='function'){return $(document).ready(sel);}if(sel===window||sel===document){return createWrapper([sel]);}
        const nodes=typeof sel==='string'?Array.from(document.querySelectorAll(sel)):sel instanceof Node?[sel]:Array.from(sel||[]);
        return createWrapper(nodes);
    }
    global.$=global.jQuery=$;
})(typeof window!=='undefined'?window:this);
